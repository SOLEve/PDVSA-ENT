-- Generated by Oracle SQL Developer Data Modeler 3.0.0.665
--   at:        2013-05-08 09:40:04 VET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE Alarma 
    ( 
     ID_Alarma INTEGER  NOT NULL , 
     Nombre_Alarma VARCHAR (50) DEFAULT 'NULL' , 
     Velocidad DOUBLE DEFAULT NULL , 
     Lugar VARCHAR (250) DEFAULT 'NULL' , 
     Latitud DOUBLE DEFAULT NULL , 
     Longitud DOUBLE DEFAULT NULL 
    );



ALTER TABLE Alarma 
    ADD CONSTRAINT Alarma_PK PRIMARY KEY ( ID_Alarma ) ;


CREATE TABLE Alarma_Viajes 
    ( 
     Alarma_ID_Alarma INTEGER  NOT NULL , 
     Viajes_ID_Viaje INTEGER  NOT NULL 
    )   
;



ALTER TABLE Alarma_Viajes 
    ADD CONSTRAINT Alarma_Viajes_PK PRIMARY KEY ( Alarma_ID_Alarma, Viajes_ID_Viaje ) ;


CREATE TABLE CH_CD 
    ( 
     Conductor_ID_Conductor INTEGER  NOT NULL , 
     Chuto_Placal_Chuto VARCHAR (50)  NOT NULL 
    )   
;



ALTER TABLE CH_CD 
    ADD CONSTRAINT CH_CD_PK PRIMARY KEY ( Conductor_ID_Conductor, Chuto_Placal_Chuto ) ;


CREATE TABLE Chuto 
    ( 
     Placal_Chuto VARCHAR (50)  NOT NULL , 
     Serial_Carroceria VARCHAR (50) DEFAULT 'NULL' , 
     Serial_Motor VARCHAR (50) DEFAULT 'NULL' , 
     Modelo VARCHAR (50) DEFAULT 'NULL' , 
     foto_chuto VARCHAR (250) DEFAULT 'NULL' , 
     Km_recorridos DOUBLE DEFAULT NULL , 
     Observaciones VARCHAR (250) , 
     Marca_Chuto_ID_Marca INTEGER  NOT NULL , 
     Condicion_Chuto_ID_Condicion INTEGER  NOT NULL , 
     Flota_ID_Flota INTEGER  NOT NULL , 
     Unidad_ID_Unidad INTEGER  NOT NULL , 
     Ubicacion_ID_Ubicacion INTEGER  NOT NULL , 
     Estatus_ID_Estatus INTEGER  NOT NULL 
    )   
;



ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_PK PRIMARY KEY ( Placal_Chuto ) ;


CREATE TABLE Ciudad 
    ( 
     ID_Ciudad INTEGER  NOT NULL , 
     Nombre_Ciudad VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Ciudad 
    ADD CONSTRAINT Ciudad_PK PRIMARY KEY ( ID_Ciudad ) ;


CREATE TABLE Cliente 
    ( 
     ID_Cli INTEGER  NOT NULL , 
     Nombre_Cli VARCHAR (50) DEFAULT 'NULL' , 
     RIF_Cli VARCHAR (50) DEFAULT 'NULL' , 
     Razon_Social_Cli VARCHAR (50) DEFAULT 'NULL' , 
     Direccion_Cli VARCHAR (100) DEFAULT 'NULL' , 
     Telefono_Cli VARCHAR (20) DEFAULT 'NULL' , 
     Distancia_Cli DOUBLE DEFAULT NULL , 
     Tiempo_Cli DOUBLE DEFAULT NULL , 
     Tipo_Cliente_ID_Tipo INTEGER  NOT NULL , 
     Distrito_ID_Dtto INTEGER  NOT NULL , 
     Mayorista_ID_Mayorista INTEGER  NOT NULL , 
     Estado_ID_Edo INTEGER  NOT NULL , 
     Zona_Com_ID_Zona INTEGER  NOT NULL , 
     Ciudad_ID_Ciudad INTEGER  NOT NULL , 
     Municipio_ID_Mcpio INTEGER  NOT NULL , 
     Sede_ID_Sede INTEGER  NOT NULL 
    )   
;



ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_PK PRIMARY KEY ( ID_Cli ) ;


CREATE TABLE Condicion_Chuto 
    ( 
     ID_Condicion INTEGER  NOT NULL , 
     Nombre_Cond VARCHAR (20) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Condicion_Chuto 
    ADD CONSTRAINT Condicion_Chuto_PK PRIMARY KEY ( ID_Condicion ) ;


CREATE TABLE Conductor 
    ( 
     ID_Conductor INTEGER  NOT NULL , 
     Nombre VARCHAR (50) DEFAULT 'NULL' , 
     Apellido VARCHAR (20) DEFAULT 'NULL' , 
     Telefono VARCHAR (20) DEFAULT 'NULL' , 
     foto VARCHAR (200) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Conductor 
    ADD CONSTRAINT Conductor_PK PRIMARY KEY ( ID_Conductor ) ;


CREATE TABLE Departamento 
    ( 
     ID_Dpto INTEGER  NOT NULL , 
     Nombre_Dpto VARCHAR (50) DEFAULT 'NULL' , 
     Sede VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Departamento 
    ADD CONSTRAINT Departamento_PK PRIMARY KEY ( ID_Dpto ) ;


CREATE TABLE Distrito 
    ( 
     ID_Dtto INTEGER  NOT NULL , 
     Nombre_Dtto VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Distrito 
    ADD CONSTRAINT Distrito_PK PRIMARY KEY ( ID_Dtto ) ;


CREATE TABLE Estado 
    ( 
     ID_Edo INTEGER  NOT NULL , 
     Nombre_Edo VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Estado 
    ADD CONSTRAINT Estado_PK PRIMARY KEY ( ID_Edo ) ;


CREATE TABLE Estatus 
    ( 
     ID_Estatus INTEGER  NOT NULL , 
     Nombre_Estatus VARCHAR (100) 
    )   
;



ALTER TABLE Estatus 
    ADD CONSTRAINT Estatus_PK PRIMARY KEY ( ID_Estatus ) ;


CREATE TABLE Flota 
    ( 
     ID_Flota INTEGER  NOT NULL , 
     Nombre_Flota VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Flota 
    ADD CONSTRAINT Flota_PK PRIMARY KEY ( ID_Flota ) ;


CREATE TABLE Marca_Chuto 
    ( 
     ID_Marca INTEGER  NOT NULL , 
     Nombre_Marca VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Marca_Chuto 
    ADD CONSTRAINT Marca_Chuto_PK PRIMARY KEY ( ID_Marca ) ;


CREATE TABLE Mayorista 
    ( 
     ID_Mayorista INTEGER  NOT NULL , 
     Nombre_May VARCHAR (100) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Mayorista 
    ADD CONSTRAINT Mayorista_PK PRIMARY KEY ( ID_Mayorista ) ;


CREATE TABLE Municipio 
    ( 
     ID_Mcpio INTEGER  NOT NULL , 
     Nombre_Mcpio VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Municipio 
    ADD CONSTRAINT Municipio_PK PRIMARY KEY ( ID_Mcpio ) ;


CREATE TABLE Rol 
    ( 
     ID_Rol INTEGER  NOT NULL , 
     Nombre_Rol VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Rol 
    ADD CONSTRAINT Rol_PK PRIMARY KEY ( ID_Rol ) ;


CREATE TABLE Sede 
    ( 
     ID_Sede INTEGER  NOT NULL , 
     Nombre_Sede VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Sede 
    ADD CONSTRAINT Sede_PK PRIMARY KEY ( ID_Sede ) ;


CREATE TABLE Tipo_Cliente 
    ( 
     ID_Tipo INTEGER  NOT NULL , 
     Nombre_Tipo VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Tipo_Cliente 
    ADD CONSTRAINT Tipo_Cliente_PK PRIMARY KEY ( ID_Tipo ) ;


CREATE TABLE Ubicacion 
    ( 
     ID_Ubicacion INTEGER  NOT NULL , 
     Nombre_Ubicacion VARCHAR (50) 
    )   
;



ALTER TABLE Ubicacion 
    ADD CONSTRAINT Ubicacion_PK PRIMARY KEY ( ID_Ubicacion ) ;


CREATE TABLE Unidad 
    ( 
     ID_Unidad INTEGER  NOT NULL , 
     Nombre_Unidad VARCHAR (50) 
    )   
;



ALTER TABLE Unidad 
    ADD CONSTRAINT Unidad_PK PRIMARY KEY ( ID_Unidad ) ;


CREATE TABLE Usuario 
    ( 
     ID_Usuario INTEGER  NOT NULL , 
     Nombre VARCHAR (50) DEFAULT 'NULL' , 
     Apellido VARCHAR (50) DEFAULT 'NULL' , 
     Telefono VARCHAR (50) DEFAULT 'NULL' , 
     Email VARCHAR (50) DEFAULT 'NULL' , 
     Login VARCHAR (50) DEFAULT 'NULL' , 
     Clave VARCHAR (50) DEFAULT 'NULL' , 
     Rol_ID_Rol INTEGER  NOT NULL , 
     Departamento_ID_Dpto INTEGER  NOT NULL , 
     Pregunta VARCHAR (50) DEFAULT 'NULL' , 
     Respuesta VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Usuario 
    ADD CONSTRAINT Usuario_PK PRIMARY KEY ( ID_Usuario ) ;


CREATE TABLE Viajes 
    ( 
     ID_Viaje INTEGER  NOT NULL , 
     Num_Despacho INTEGER DEFAULT NULL , 
     Fecha DATE , 
     Hora_Salida DATE , 
     Usuario_ID_Usuario INTEGER  NOT NULL , 
     Chuto_Placal_Chuto VARCHAR (50)  NOT NULL , 
     CH_CD_Conductor_ID_Conductor INTEGER  NOT NULL , 
     CH_CD_Chuto_Placal_Chuto VARCHAR (50)  NOT NULL , 
     Cliente_ID_Cli INTEGER  NOT NULL 
    )   
;



ALTER TABLE Viajes 
    ADD CONSTRAINT Viajes_PK PRIMARY KEY ( ID_Viaje ) ;


CREATE TABLE Zona_Com 
    ( 
     ID_Zona INTEGER  NOT NULL , 
     Nombre_zona VARCHAR (50) DEFAULT 'NULL' 
    )   
;



ALTER TABLE Zona_Com 
    ADD CONSTRAINT Zona_Com_PK PRIMARY KEY ( ID_Zona ) ;



ALTER TABLE Alarma_Viajes 
    ADD CONSTRAINT Alarma_Viajes_Alarma_FK FOREIGN KEY 
    ( 
     Alarma_ID_Alarma
    ) 
    REFERENCES Alarma 
    ( 
     ID_Alarma
    ) 
     
;


ALTER TABLE Alarma_Viajes 
    ADD CONSTRAINT Alarma_Viajes_Viajes_FK FOREIGN KEY 
    ( 
     Viajes_ID_Viaje
    ) 
    REFERENCES Viajes 
    ( 
     ID_Viaje
    ) 
    
;


ALTER TABLE CH_CD 
    ADD CONSTRAINT CH_CD_Chuto_FK FOREIGN KEY 
    ( 
     Chuto_Placal_Chuto
    ) 
    REFERENCES Chuto 
    ( 
     Placal_Chuto
    ) 
     
;


ALTER TABLE CH_CD 
    ADD CONSTRAINT CH_CD_Conductor_FK FOREIGN KEY 
    ( 
     Conductor_ID_Conductor
    ) 
    REFERENCES Conductor 
    ( 
     ID_Conductor
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Condicion_Chuto_FK FOREIGN KEY 
    ( 
     Condicion_Chuto_ID_Condicion
    ) 
    REFERENCES Condicion_Chuto 
    ( 
     ID_Condicion
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Estatus_FK FOREIGN KEY 
    ( 
     Estatus_ID_Estatus
    ) 
    REFERENCES Estatus 
    ( 
     ID_Estatus
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Flota_FK FOREIGN KEY 
    ( 
     Flota_ID_Flota
    ) 
    REFERENCES Flota 
    ( 
     ID_Flota
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Marca_Chuto_FK FOREIGN KEY 
    ( 
     Marca_Chuto_ID_Marca
    ) 
    REFERENCES Marca_Chuto 
    ( 
     ID_Marca
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Ubicacion_FK FOREIGN KEY 
    ( 
     Ubicacion_ID_Ubicacion
    ) 
    REFERENCES Ubicacion 
    ( 
     ID_Ubicacion
    ) 
     
;


ALTER TABLE Chuto 
    ADD CONSTRAINT Chuto_Unidad_FK FOREIGN KEY 
    ( 
     Unidad_ID_Unidad
    ) 
    REFERENCES Unidad 
    ( 
     ID_Unidad
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Ciudad_FK FOREIGN KEY 
    ( 
     Ciudad_ID_Ciudad
    ) 
    REFERENCES Ciudad 
    ( 
     ID_Ciudad
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Distrito_FK FOREIGN KEY 
    ( 
     Distrito_ID_Dtto
    ) 
    REFERENCES Distrito 
    ( 
     ID_Dtto
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Estado_FK FOREIGN KEY 
    ( 
     Estado_ID_Edo
    ) 
    REFERENCES Estado 
    ( 
     ID_Edo
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Mayorista_FK FOREIGN KEY 
    ( 
     Mayorista_ID_Mayorista
    ) 
    REFERENCES Mayorista 
    ( 
     ID_Mayorista
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Municipio_FK FOREIGN KEY 
    ( 
     Municipio_ID_Mcpio
    ) 
    REFERENCES Municipio 
    ( 
     ID_Mcpio
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Sede_FK FOREIGN KEY 
    ( 
     Sede_ID_Sede
    ) 
    REFERENCES Sede 
    ( 
     ID_Sede
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Tipo_Cliente_FK FOREIGN KEY 
    ( 
     Tipo_Cliente_ID_Tipo
    ) 
    REFERENCES Tipo_Cliente 
    ( 
     ID_Tipo
    ) 
     
;


ALTER TABLE Cliente 
    ADD CONSTRAINT Cliente_Zona_Com_FK FOREIGN KEY 
    ( 
     Zona_Com_ID_Zona
    ) 
    REFERENCES Zona_Com 
    ( 
     ID_Zona
    ) 
     
;


ALTER TABLE Usuario 
    ADD CONSTRAINT Usuario_Departamento_FK FOREIGN KEY 
    ( 
     Departamento_ID_Dpto
    ) 
    REFERENCES Departamento 
    ( 
     ID_Dpto
    ) 
     
;


ALTER TABLE Usuario 
    ADD CONSTRAINT Usuario_Rol_FK FOREIGN KEY 
    ( 
     Rol_ID_Rol
    ) 
    REFERENCES Rol 
    ( 
     ID_Rol
    ) 
     
;


ALTER TABLE Viajes 
    ADD CONSTRAINT Viajes_CH_CD_FK FOREIGN KEY 
    ( 
     CH_CD_Conductor_ID_Conductor,
     CH_CD_Chuto_Placal_Chuto
    ) 
    REFERENCES CH_CD 
    ( 
     Conductor_ID_Conductor,
     Chuto_Placal_Chuto
    ) 
     
;


ALTER TABLE Viajes 
    ADD CONSTRAINT Viajes_Chuto_FK FOREIGN KEY 
    ( 
     Chuto_Placal_Chuto
    ) 
    REFERENCES Chuto 
    ( 
     Placal_Chuto
    ) 
     
;


ALTER TABLE Viajes 
    ADD CONSTRAINT Viajes_Cliente_FK FOREIGN KEY 
    ( 
     Cliente_ID_Cli
    ) 
    REFERENCES Cliente 
    ( 
     ID_Cli
    ) 
     
;


ALTER TABLE Viajes 
    ADD CONSTRAINT Viajes_Usuario_FK FOREIGN KEY 
    ( 
     Usuario_ID_Usuario
    ) 
    REFERENCES Usuario 
    ( 
     ID_Usuario
    ) 
     
;



























-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            24
-- CREATE INDEX                             0
-- ALTER TABLE                             48
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
